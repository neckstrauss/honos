{{md.object | json}}
<modal-form-generico #md [model]="this.model"
	titulo="Comité" (stateUpdate)="actualizarOpciones($event)"
	[form]="form" tamanio="" (formSumit)="this.model.loadDataSet()">
<div card-body>
	<form novalidate [formGroup]="form">
		<div class="form-check form-check-inline" >
			<input class="form-check-input" type="radio" name="tipoComite" formControlName="tipoComite"
				id="exampleRadios1" value="ORDINARIO" [(ngModel)]="md.object.tipoComite" checked> <label
				class="form-check-label" for="exampleRadios1"> Ordinario
			</label>
		</div>
		<div class="form-check form-check-inline">
			<input class="form-check-input" type="radio" name="tipoComite" formControlName="tipoComite"
				id="exampleRadios2" value="EXTRAORDINARIO" [(ngModel)]="md.object.tipoComite"> <label
				class="form-check-label" for="exampleRadios2"> Extraordinario</label>
		</div>
		<div class="form-check form-check-inline">
			<input class="form-check-input" type="radio" name="tipoComite" formControlName="tipoComite"
				id="exampleRadios3" value="REPETICION" [(ngModel)]="md.object.tipoComite"> <label
				class="form-check-label" for="exampleRadios3"> de Repetición</label>
		</div>
		
		<hr>
		
		<div class="form-group">
			<label class="control-label" for="input">Fecha Comité<span
				class="required">*</span>
			</label>
			<div class="input-group">
				<input type="text" class="form-control form-control-sm"
					placeholder="Select a date" aria-label="Select a date"
					aria-describedby="basic-addon2" ngx-mydatepicker
					name="fechaComite" formControlName="fechaComite"
					[(ngModel)]="fechaComite" [readOnly]="(form.controls['fechaComite'].readOnly || readOnly)"
					[options]="fechaComiteOptions" #dpfechaComite="ngx-mydatepicker"
					(dateChanged)="onfechaComiteChanged($event)">
				<div class="input-group-append" *ngIf="!( form.controls['fechaComite'].readOnly  || readOnly)">
					<button class="btn btn-danger" type="button" (click)="dpfechaComite.clearDate()">
						<i class="material-icons" aria-hidden="true" data-toggle="tooltip"
							data-placement="top" title="Borrar Fecha">close</i>
					</button>
					<button class="btn btn-info" type="button" (click)="dpfechaComite.toggleCalendar()">
						<i class="material-icons" aria-hidden="true" data-toggle="tooltip"
							data-placement="top" title="Seleccionar Fecha">date_range</i>
					</button>
				</div>
			</div>
			<message-validation [form]="form" property="fechaComite"></message-validation>
		</div>
		
		<div class="form-group" >
			<label>Asistentes<span class="required">*</span></label>
			<p *ngIf="!md.object.asistentes || md.object.asistentes.length == 0">Seleccione un
				Miembro y oprima Incluir</p>
			<ul class="list-group">
				<li *ngFor="let o of md.object.asistentes; let i=index; "
					class="list-group-item d-flex justify-content-between align-items-center">{{o.miembro.nombreCompleto}}<i
					class="material-icons rojo" aria-hidden="true" *ngIf="!(form.controls['asistentes'].readOnly || readOnly)"
					data-toggle="tooltip" data-placement="top"
					title="Eliminar Miembro" (click)="deleteMiembro(o.miembro.id)">close</i>
				</li>
			</ul>			
			<div class="btn-group dropdown" *ngIf="!(form.controls['asistentes'].readOnly || readOnly)">
				<button type="button" class="btn btn-light dropdown-toggle 
					dropdown-toggle-split" 
					data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" (click)="this.filtroAsistentes = ''">
					{{(this.miembroSeleted)?this.miembroSeleted.nombreCompleto:'seleccione
					un Miembro  '}}<span class="sr-only">Toggle Dropright</span></button>
				<button type="button" (click)="addMiembro()" [disabled]="!this.miembroSeleted"
					class="btn btn-success ">
					Incluir
				</button>
				<div class="dropdown-menu scrollable-menu">					
					<a class="dropdown-item"
						*ngFor="let o of filtrarMiembros()"
						(click)="this.miembroSeleted = o">{{o.nombreCompleto}}</a>					
					<div class="dropdown-divider"></div>					
					<form class="px-3">
						<div class="form-group">
							<input type="text" placeholder="Buscar..." class="form-control" 
								[(ngModel)]="filtroAsistentes" [ngModelOptions]="{standalone: true}" >							
						</div>
					</form>
				</div>
			</div>
		</div>
		
		<div class="form-group" *ngIf="md.object.tipoComite=='EXTRAORDINARIO'">
			<label>Apoderados Autorizados<span class="required">*</span></label>
			<p *ngIf="!md.object.apoderadosExtraordinario || md.object.apoderadosExtraordinario.length == 0">Seleccione un
				apoderados y oprima Incluir</p>
			<ul class="list-group">
				<li *ngFor="let o of md.object.apoderadosExtraordinario; let i=index; "
					class="list-group-item d-flex justify-content-between align-items-center">{{o.nombreCompleto}}<i
					class="material-icons rojo" aria-hidden="true" *ngIf="!(form.controls['apoderadosExtraordinario'].readOnly || readOnly)"
					data-toggle="tooltip" data-placement="top"
					title="Eliminar apoderados" (click)="deleteapoderados(o.id)">close</i>
				</li>
			</ul>			
			<div class="btn-group dropdown" *ngIf="!(form.controls['apoderadosExtraordinario'].readOnly || readOnly)">
				<button type="button" class="btn btn-light dropdown-toggle 
					dropdown-toggle-split" 
					data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" (click)="this.filtroApoderadosAutorizados = ''">
					{{(this.apoderadosSeleted)?this.apoderadosSeleted.nombreCompleto:'seleccione
					un apoderados  '}}<span class="sr-only">Toggle Dropright</span></button>
				<button type="button" (click)="addapoderados()" [disabled]="!this.apoderadosSeleted"
					class="btn btn-success ">
					Incluir
				</button>
				<div class="dropdown-menu scrollable-menu">					
					<a class="dropdown-item"
						*ngFor="let o of filtrarApoderadosAutorizados()"
						(click)="this.apoderadosSeleted = o">{{o.nombreCompleto}}</a>					
					<div class="dropdown-divider"></div>					
					<form class="px-3">
						<div class="form-group">
							<input type="text" placeholder="Buscar..." class="form-control" 
								[(ngModel)]="filtroApoderadosAutorizados" [ngModelOptions]="{standalone: true}" >							
						</div>
					</form>
				</div>
			</div>
		</div>
		
<!-- Cortar y pegar en el componente-->		


<!-- Cortar y pegar este codigo en actualizarOpciones -->

	
		
		
		
		
		<div class="form-group">
			<label>Estado<span class="required">*</span></label>
			<!-- <input class="form-control" name="estado" [(ngModel)]="md.object.estado"
		required type="text" required>  -->
			<select class="form-control  custom-select form-control-sm"
				name="estado" [(ngModel)]="md.object.estado"
				formControlName="estado">
				<option value="ACT">Activo</option>
				<option value="INA">Inactivo</option>
			</select>
			<message-validation [form]="form" property="estado"></message-validation>
		</div>


	</form>
</div>
</modal-form-generico>